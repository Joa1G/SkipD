<app-header></app-header>
<div class="user-profile-container">
  <div class="profile-content">
    <h1 class="page-title">Perfil do Usuário</h1>

    <div class="profile-avatar">
      @if(urlImage === ''){
        <div class="avatar-circle">
          <mat-icon class="user-icon">person</mat-icon>
        </div>
      }@else {
        <img src="{{ urlImage }}" alt="Foto do Usuário" class="camera-icon-img">
      }
      <div class="camera-icon">
        <mat-icon>camera_alt</mat-icon>
      </div>
    </div>

    <h2 class="user-name">{{ userName }}</h2>

    <div class="menu-options">
      <button class="menu-button primary">
        <mat-icon class="school-icon">settings</mat-icon>
        Configurações
      </button>

      <button class="menu-button primary">
        <mat-icon class="school-icon">school</mat-icon>
        Gerenciar Instituições
      </button>

      @if(!isPremiumUser()){
        <button class="menu-button premium" (click)="changePremiumStateOfUser()">
          <mat-icon class="crown-icon">diamond</mat-icon>
          Torne-se Premium
        </button>
      }
    </div>

    <button class="logout-button" (click)="showLogoutDialog()">
      <mat-icon class="logout-icon">logout</mat-icon>
      Sair
    </button>
  </div>
</div>

<app-dialog
  [title]="'Você tem certeza que deseja sair?'"
  [message]="'Ao sair, você será desconectado da sua conta.'"
  [confirmText]="'Sair'"
  [dialogType]="'warning'"
  [isVisible]="isDialogLogoutVisible"
  (isVisibleChange)="isDialogLogoutVisible = $event"
  (confirmAction)="logout()"
></app-dialog>

<app-dialog
  [title]="'Obrigado por se tornar Premium!'"
  [message]="'Sua conta agora tem acesso a recursos exclusivos.'"
  [confirmText]="'OK'"
  [dialogType]="'logo'"
  [isVisible]="isDialogPremiumVisible"
  (isVisibleChange)="isDialogPremiumVisible = $event"
  [showCancelButton]="false"
  [route]="['premium']"
></app-dialog>
