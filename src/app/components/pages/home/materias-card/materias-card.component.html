<mat-card
  class="materia-card"
  [ngClass]="getStatusClass()"
  (click)="navigateToDetails(materia!.id)"
>
  <mat-card-header>
    <mat-card-title>{{ materia!.nome }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <p class="faltas-title">
      Faltas: {{ materia!.faltas }}/{{ faltasPermitidas() }}
    </p>
    <mat-progress-bar
      mode="determinate"
      [value]="faltasPercentage()"
    ></mat-progress-bar>
    <p class="status">Status: {{ materia!.status }}</p>
  </mat-card-content>
  <mat-card-actions>
    <button
      mat-raised-button
      [disabled]="materia?.faltas === faltasPermitidas()"
      (click)="abrirDialogFalta($event)"
    >
      + Faltar
    </button>
  </mat-card-actions>
</mat-card>

<app-falta-selector-dialog
  [(isVisible)]="showFaltaDialog"
  [materia]="materia?.nome || ''"
  [faltasAtuais]="materia?.faltas || 0"
  [faltasMaximas]="faltasPermitidas()"
  (quantidadeSelecionada)="adicionarFalta($event)"
>
</app-falta-selector-dialog>
